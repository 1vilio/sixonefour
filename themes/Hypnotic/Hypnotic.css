/* @video-background: "HypnoticaBackground.mp4"; */

/*
 *   ТЕМА: Hypnotica v1.1 - Default Button Fix
 *   УДАЛЕНЫ ВСЕ СТИЛИ для кнопки Play, чтобы гарантировать
 *   ее работоспособность. Кнопка будет стандартной.
*/

/* ==========================================================================
   1. :root, ШРИФТ
   ========================================================================== */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

:root {
    --hypno-black: #000000;
    --hypno-white: #ffffff;
    --hypno-surface: rgba(10, 10, 10, 0.7);
    --hypno-glow: rgba(255, 255, 255, 0.7);
    --hypno-border: rgba(255, 255, 255, 0.2);

    --font-main: 'Poppins', sans-serif;
}

/* ========================================================================== 
   2. Глобальные стили, Хедер, Футер
   ========================================================================== */
body,
#app {
    background: transparent !important;
    font-family: var(--font-main) !important;
    color: var(--hypno-white) !important;
}

#app .l-container.l-content {
    background-color: var(--hypno-surface) !important;
    backdrop-filter: blur(8px);
}

::-webkit-scrollbar {
    width: 8px !important;
    background-color: var(--hypno-black);
}

::-webkit-scrollbar-thumb {
    background-color: var(--hypno-white) !important;
    border-radius: 4px;
}

.header,
.footer,
.sidebar {
    background: var(--hypno-surface) !important;
    border-color: var(--hypno-border) !important;
    backdrop-filter: blur(15px) !important;
    box-shadow: none;
}

.header__logo a.header__logoLink:first-of-type {
    display: block !important;
    width: 150px !important;
    height: 46px !important;
    text-indent: -9999px;
    margin-left: 20px;
    /* background-image: url('theme://HypnoticaLogo.png') !important; */
    background-repeat: no-repeat !important;
    background-position: center !important;
    background-size: contain !important;
    transition: transform 0.5s cubic-bezier(0, 0.77, 0.58, 1);
}

.header__logo a.header__logoLink:first-of-type:hover {
    transform: scale(1.1) rotate(15deg);
}

/* .header__logo a.header__logoLink > *, .header__logo a.header__logoLink:not(:first-of-type) { display: none !important; } */

/* ========================================================================== 
   3. ОБЛОЖКИ - "Закручивающаяся воронка"
   ========================================================================== */
@keyframes spiral-in {
    from {
        transform: rotate(0deg) scale(1);
        opacity: 1;
    }

    to {
        transform: rotate(-360deg) scale(0);
        opacity: 0;
    }
}

@keyframes spin-fast {
    0% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(360deg);
    }
}

.playableTile__artwork {
    position: relative;
    overflow: hidden;
    border-radius: 50% !important;
    /* Делаем все обложки круглыми */
    border: 2px solid var(--hypno-border) !important;
}

.playableTile .image {
    display: block !important;
    border-radius: 50%;
    transition: all 1s cubic-bezier(0.23, 1, 0.32, 1);
}

.playableTile:hover .image {
    transform: rotate(-90deg) scale(0.5);
    opacity: 0.5;
    filter: blur(2px);
}

/* Гипнодиск в углу */
.playableTile__artwork::after {
    content: '';
    position: absolute;
    top: 10px;
    right: 10px;
    width: 32px;
    height: 32px;
    z-index: 2;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath fill='%23fff' d='M50,0 A50,50,0,0,1,50,100 M50,1 A49,49,0,0,1,50,99 V1 Z'/%3E%3Cpath fill='%23000' d='M50,0 A50,50,0,0,0,50,100 V0 Z'/%3E%3C/svg%3E");
    background-size: contain;
    animation: spin-fast 10s linear infinite;
}

.playableTile:hover .playableTile__artwork::after {
    animation-duration: 1.5s;
}

/* ========================================================================== 
   4. ТИПОГРАФИКА
   ========================================================================== */
.soundTitle__title,
.playableTile__title,
h1,
h2,
h3 {
    color: var(--hypno-white) !important;
}

.soundTitle__username,
a.sc-link-dark {
    color: var(--hypno-text-dim) !important;
    transition: letter-spacing 0.5s;
}

.soundTitle__username:hover,
a.sc-link-dark:hover {
    letter-spacing: 2px;
}

/* ========================================================================== 
   5. ИНТЕРФЕЙС - Плавные переходы
   ========================================================================== */
.soundList__item,
.trackItem,
.sidebar,
.collection,
.userInfo,
.userBadgeListItem {
    background-color: transparent !important;
    border: none !important;
    border-bottom: 1px solid var(--hypno-border) !important;
    border-radius: 0 !important;
}

.userBadgeListItem__artwork {
    border-radius: 50% !important;
    border: 2px solid var(--hypno-border) !important;
}

.g-tabs {
    position: relative;
    border-bottom: 1px solid var(--hypno-border) !important;
}

.g-tabs-link {
    color: var(--hypno-white) !important;
}

.g-tabs::after {
    content: '';
    position: absolute;
    bottom: -1px;
    height: 2px;
    background: var(--hypno-white);
    transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
}

.g-tabs-item.g-tabs-item:nth-child(1).active ~ .g-tabs-item:last-child::after {
    left: 0;
    width: calc(100% / 5 * 1);
}

.g-tabs-item.g-tabs-item:nth-child(2).active ~ .g-tabs-item:last-child::after {
    left: 20%;
    width: calc(100% / 5 * 1);
}

.g-tabs-item.g-tabs-item:nth-child(3).active ~ .g-tabs-item:last-child::after {
    left: 40%;
    width: calc(100% / 5 * 1);
}

/* ========================================================================== 
   6. ПЛЕЕР И УПРАВЛЕНИЕ - "Бесконечный туннель"
   ========================================================================== */
/*
 *  FIX: ВЕСЬ БЛОК ДЛЯ .playableTile__playButton БЫЛ УДАЛЕН.
 *  Кнопка будет стандартной, но гарантированно рабочей.
 */

.playbackTimeline__progressWrapper {
    background: var(--hypno-black) !important;
    border: none;
    height: 10px !important;
}

.playbackTimeline__progressBar {
    background-image: repeating-radial-gradient(
        circle,
        var(--hypno-white),
        var(--hypno-white) 2px,
        transparent 2px,
        transparent 10px
    ) !important;
    background-size: 20px 20px;
    animation: tunnel-vision 0.5s linear infinite;
    background-color: transparent !important;
}

@keyframes tunnel-vision {
    from {
        background-position-x: 0;
    }

    to {
        background-position-x: 20px;
    }
}

.playbackTimeline__progressHandle {
    background: var(--hypno-white) !important;
    border-radius: 50% !important;
    border: none;
    box-shadow: 0 0 10px var(--hypno-glow);
}

.waveform,
.sound__waveform {
    filter: grayscale(1) contrast(100) brightness(3) !important;
}

/* ========================================================================== 
   7. КНОПКИ ДЕЙСТВИЙ, ПОЛЯ ВВОДА
   ========================================================================== */
.soundActions .sc-button,
.sc-button {
    background: transparent !important;
    border-radius: 50px !important;
    /* Круглые */
    border: 1px solid var(--hypno-border) !important;
    color: var(--hypно-white) !important;
}

.soundActions .sc-button:hover,
.sc-button:hover {
    background: var(--hypno-white) !important;
    color: var(--hypno-black) !important;
}

.commentForm__input {
    background: transparent !important;
    border: none !important;
    border-bottom: 1px solid var(--hypno-border) !important;
    border-radius: 0 !important;
    color: var(--hypno-white) !important;
}

.uploadMain__chooserContainer {
    border: 2px dashed var(--hypno-border) !important;
    border-radius: 50px !important;
}
