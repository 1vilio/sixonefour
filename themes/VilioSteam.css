/*
ТЕМА: STEAM DESKTOP CLIENT (Stable Build)
Стиль: Строгий, блочный, "Программный" интерфейс.
Референс: Библиотека Steam, Магазин.
*/

/* ==========================================================================
1. ШРИФТЫ И ПЕРЕМЕННЫЕ
========================================================================== */
@import url('https://fonts.googleapis.com/css2?family=Motiva+Sans:wght@400;700&family=Roboto:wght@400;500;700&display=swap');

:root {
    /* Палитра Steam Client */
    --steam-bg-dark: #171a21;      /* Самый темный фон */
    --steam-bg-light: #1b2838;     /* Основной фон контента */
    --steam-header: #171d25;       /* Хедер */
    --steam-blue: #66c0f4;         /* Акцентный голубой (ссылки) */
    --steam-green: #a4d007;        /* Кнопка купить/играть */
    --steam-green-hover: #8ed629;
    --steam-download: #4cff00;     /* Цвет загрузки */
    --steam-text: #c7d5e0;         /* Текст */
    --steam-text-dim: #8f98a0;     /* Текст второстепенный */
    --steam-border: #2a475e;       /* Рамки */
    
    --font-steam: 'Roboto', sans-serif; /* Похож на Motiva Sans */
}

/* ==========================================================================
2. ГЛОБАЛЬНЫЙ ФОН И СТРУКТУРА
========================================================================== */
body {
    background-color: var(--steam-bg-dark) !important;
    color: var(--steam-text) !important;
    font-family: var(--font-steam) !important;
    letter-spacing: 0.3px;
}

/* Фон: Темно-синий градиент (как в профиле Steam) */
body::before {
    content: '';
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: radial-gradient(circle at 50% 0%, #1b2838 0%, #171a21 60%);
    background-attachment: fixed;
    z-index: -1;
}

/* Контейнер контента - "Окно программы" */
#app .l-container.l-content {
    background: transparent !important;
    box-shadow: none !important;
    padding-top: 20px !important;
}

/* Скроллбар - Классический серый */
::-webkit-scrollbar { width: 14px !important; background: #171a21; }
::-webkit-scrollbar-thumb { 
    background: #3d4450 !important; 
    border-radius: 2px;
    border: 3px solid #171a21;
}
::-webkit-scrollbar-thumb:hover { background: #66c0f4 !important; }

/* ==========================================================================
3. ХЕДЕР - "GLOBAL NAVIGATION"
========================================================================== */
.header {
    background: var(--steam-header) !important;
    height: 64px !important;
    border-bottom: none !important;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
}

/* Логотип - Делаем похожим на лого Steam */
.header__logo a.header__logoLink {
    background: #171a21 !important; /* Темный квадрат */
    width: 140px !important;
    display: flex; align-items: center; justify-content: center;
    text-indent: 0 !important;
    color: #fff;
    font-family: var(--font-steam);
    font-weight: 900;
    text-transform: uppercase;
    font-size: 20px;
    letter-spacing: 2px;
}
.header__logo a.header__logoLink::before, 
.header__logo a.header__logoLink > * { display: none !important; }

.header__logo a.header__logoLink::after {
    content: 'STEAM';
    color: #fff;
}

/* Меню навигации - Вкладки (STORE, LIBRARY...) */
.header__navMenu > li > a {
    font-family: var(--font-steam) !important;
    font-weight: 700 !important;
    font-size: 14px !important;
    text-transform: uppercase;
    color: #b8b6b4 !important;
    letter-spacing: 1px;
    padding: 0 15px !important;
    height: 64px !important;
    line-height: 64px !important;
    border: none !important;
    transition: color 0.2s;
}

.header__navMenu > li > a:hover,
.header__navMenu > li > a.selected {
    color: var(--steam-blue) !important;
    background: transparent !important;
    text-shadow: 0 0 10px rgba(102, 192, 244, 0.4);
    border-bottom: 3px solid var(--steam-blue) !important;
}

/* Правая часть хедера - Кнопки */
.header__right a, .header__right button {
    font-family: var(--font-steam) !important;
    font-weight: 500 !important;
    border-radius: 2px !important;
    text-transform: capitalize !important;
}

/* Кнопка "Upgrade" -> "Установить Steam" (Зеленая) */
.header__right .g-button-cta {
    background: linear-gradient(to bottom, #75b022 5%, #588a1b 95%) !important;
    color: #d2efa9 !important;
    border: none !important;
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.2);
    text-transform: uppercase !important;
    font-weight: bold !important;
    padding: 0 15px !important;
}
.header__right .g-button-cta:hover {
    background: linear-gradient(to bottom, #8ed629 5%, #6aa621 95%) !important;
    color: #fff !important;
}

/* ==========================================================================
4. ТРЕКИ И СПИСКИ - "БИБЛИОТЕКА ИГР"
========================================================================== */
/* Контейнер трека */
.soundList__item, .trackItem {
    background: rgba(0, 0, 0, 0.2) !important;
    border: 1px solid transparent !important;
    margin-bottom: 8px !important;
    padding: 10px !important;
    transition: all 0.2s ease;
}

.soundList__item:hover {
    background: rgba(255, 255, 255, 0.05) !important;
    border-left: 4px solid var(--steam-blue) !important; /* Акцент слева при наведении */
}

/* ОБЛОЖКИ - "Капсулы игр" */
.playableTile__artwork {
    border: none !important;
    border-radius: 0 !important;
    box-shadow: 0 4px 8px #000;
    transition: transform 0.2s, box-shadow 0.2s;
}

/* Эффект при наведении (как в магазине Steam) */
.playableTile:hover .playableTile__artwork {
    transform: scale(1.03);
    box-shadow: 0 8px 15px #000;
    outline: 2px solid var(--steam-blue); /* Синяя рамка */
}

/* Заголовки треков */
.soundTitle__title, .playableTile__title {
    font-family: var(--font-steam) !important;
    font-weight: 500 !important;
    color: #fff !important;
    font-size: 16px !important;
}
.soundTitle__title:hover, .playableTile__title:hover {
    color: var(--steam-blue) !important;
}

.soundTitle__username, .playableTile__username {
    color: var(--steam-text-dim) !important;
    font-size: 12px;
}

/* ==========================================================================
5. ПЛЕЕР - "STEAM OVERLAY MUSIC"
========================================================================== */
/* Плеер - жесткий блок внизу */
.playControls {
    background: #22252b !important; /* Темно-серый фон плеера */
    border-top: 1px solid #3d4450 !important;
    height: 70px !important;
    position: fixed !important; bottom: 0 !important;
    box-shadow: 0 -5px 20px #000;
    z-index: 99999;
}

.playControls__inner {
    padding-top: 0 !important;
    height: 100% !important;
    display: flex; align-items: center;
}

/* Кнопки управления - Строгие */
.playControl, .skipControl, .shuffleControl, .repeatControl {
    border: none !important;
    background: transparent !important;
    filter: invert(0.8); /* Светло-серые */
    transition: filter 0.2s;
}
.playControl {
    border: 2px solid #666 !important;
    border-radius: 2px !important; /* Квадратная кнопка с легким скруглением */
    width: 40px !important; height: 40px !important;
    margin: 0 15px !important;
}
.playControl:hover, .skipControl:hover {
    filter: invert(1); /* Белые при наведении */
    background: rgba(255,255,255,0.1) !important;
}

/* --- ПРОГРЕСС БАР: "DOWNLOAD BAR" --- */
/* Самое важное! Делаем стиль загрузки игры */
.playbackTimeline__progressWrapper {
    background: #101215 !important; /* Черная полоса */
    height: 12px !important;
    border: 1px solid #3d4450;
    border-radius: 2px;
}

/* Полоса загрузки (Зеленая с полосками) */
.playbackTimeline__progressBar {
    background-color: var(--steam-download) !important;
    background-image: repeating-linear-gradient(
        45deg,
        rgba(0,0,0,0.2) 25%,
        transparent 25%,
        transparent 50%,
        rgba(0,0,0,0.2) 50%,
        rgba(0,0,0,0.2) 75%,
        transparent 75%,
        transparent
    ) !important;
    background-size: 20px 20px !important;
    animation: download-stripes 2s linear infinite; /* Анимация движения полосок */
    box-shadow: 0 0 10px rgba(76, 255, 0, 0.2);
}

@keyframes download-stripes {
    0% { background-position: 0 0; }
    100% { background-position: 20px 0; }
}

/* Ручка ползунка (Белая риска) */
.playbackTimeline__progressHandle {
    background: #fff !important;
    width: 4px !important; height: 16px !important;
    top: -3px !important;
    border-radius: 0 !important;
    box-shadow: 1px 1px 3px #000;
}

/* Инфо о треке в плеере */
.playbackSoundBadge__title {
    color: var(--steam-blue) !important;
    font-weight: bold;
}
.playbackSoundBadge__lightLink { color: var(--steam-text-dim) !important; }

/* ==========================================================================
6. САЙДБАР И КНОПКИ
========================================================================== */
.sidebar {
    background: rgba(0,0,0,0.2) !important;
    padding: 15px;
    border: 1px solid #2a475e;
}

/* Табы (Overview, Likes...) - Стиль меню Steam */
.g-tabs-link {
    background: #2a475e !important; /* Синий блок */
    color: #c7d5e0 !important;
    border: none !important;
    margin-right: 2px;
    font-family: var(--font-steam) !important;
    font-size: 14px !important;
    text-transform: uppercase;
    font-weight: bold;
    border-radius: 2px 2px 0 0;
}
.g-tabs-link.active {
    background: linear-gradient(to bottom, #c7d5e0, #9daab5) !important; /* Активная вкладка светлая */
    color: #171a21 !important;
}
.g-tabs-link:hover:not(.active) {
    background: #66c0f4 !important;
    color: #fff !important;
}

/* Кнопки действий (Like, Repost) */
.sc-button {
    background: linear-gradient(to bottom, #3d4450 5%, #25282e 95%) !important;
    border: 1px solid #171a21 !important;
    color: #c7d5e0 !important;
    border-radius: 2px !important;
    font-family: var(--font-steam) !important;
    font-weight: 500;
}
.sc-button:hover {
    background: #4b5461 !important;
    color: #fff !important;
}
.sc-button-like[aria-pressed="true"] {
    background: var(--steam-blue) !important;
    color: #fff !important;
}

/* ==========================================================================
7. ФИКСЫ СТРАНИЦЫ ТРЕКА (Убираем рыжий фон)
========================================================================== */
.hero, .fullListenHero, .listenBackground, .sound__body {
    background: transparent !important;
    background-image: none !important;
    background-color: transparent !important;
}
/* Делаем подложку темной синей */
.sound__content {
    background: rgba(22, 32, 45, 0.9) !important;
    border: 1px solid #2a475e;
}